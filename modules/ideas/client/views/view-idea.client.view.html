<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <title>view-idea</title>
    <link rel="stylesheet" href="../css/ideas.css">
  </head>
  <section class = "ideaspage" ng-controller="IdeasController" ng-init="findOne()">
    <h1 class = "frontscreen" ng-bind="idea.title"></h1>
    <div class="idea-content" ng-bind="idea.description.long"></div>

    <div class="row">
      <div class = "col-xs-6">
        <button ui-sref = "ideas.list()" class="btn btn-primary-1 pull-left">
        <span class="glyphicon glyphicon-arrow-left"></span>
        </button>

        <button ui-sref = "home()" class="btn btn-primary-1">
        <span class="glyphicon glyphicon-home"></span>
        </button>

        <button ng-click="remove()" class="btn btn-danger">
        <span class="glyphicon glyphicon-trash"></span>
        </button>
      </div>
    </div>

    <h3>Comments (<span ng-bind="idea.comments.length"></span>)</h3>
    <div class="clearfix" style="margin-bottom: 15px">
      <textarea name="comment" ng-model="comment" rows="5" class="form-control" placeholder="Please provide your feedback..." required></textarea>
      <button class="btn btn-primary pull-right" ng-click="addComment()">Add Comment</button>
    </div>
    <div class="comments-list">
      <div class="comment" ng-repeat="comment in idea.comments">
        <h6>{{comment.user.firstName}} {{comment.user.lastName}}</h6>
        <p>Posted on: {{comment.posted}}</p>
        <p>{{comment.content}}</p>
      </div>
    </div>

  </section>
</html>
